<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" type="image/x-icon" href="/assets/lego_basic_head.png">
    <script src="https://d3js.org/d3.v7.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
    <title>Legos Through the Ages</title>
</head>
<body>

    <!-- TODO: Once the project is complete, go through and remove all unused IDs, Classes, Names, etc. from the HTML elements in this file and the CSS file.-->

    <main>

        <div id="introduction" class="main-div">
            <h1>Legos Through the Ages</h1>
            <p id="p_introduction">The Lego coroporation was founded in 1932 by Danish toymaker Ole Kirk Christiansen. In 1949, Lego began manufaturing a precursor to interlocking brick product that the company is known for today. Since then, the company has produced between 15,000 and 16,000 sets built parts selected from a collection of around 55,000 unique pieces!</p>
            <br>
            <p>Lego been this big, though. In their first year of manufaturing legos, 1949, Lego released only 5 sets with fewer than 10 unique parts between them. This webpage aims to explore how Legos have changed over time by answering questions like, "how has the number of sets released each year changed?" and "how have the colors of Legos changed?" These visualizations also explore the relationships between Lego sets, themes, and colors over time for a different perspective on how Lego has grown and changed sine its inception.</p>
            <br>
            <p>Feel free to take a look around and explore the data. Thanks for stopping by!</p>
        </div>

        <div id="piecesLineChart" class="flex-container-row main-div">

            <div class="main-text leftVisElement">
                <h2>Sets & Piece Counts</h2>
                <p id="p_piecesLineChart">Here, we take a look at how the number of pieces in Lego sets has changed over time. We can easily see that Lego likes to keep the number of pieces in their sets to 1,000-2,000 pices or less. But since around the year 2000, they've begun releasing a fair number of sets with more pices than that. Sometimes far, far more.</p>
                <br>
                <p>Now, check the "Log Scale" box to expand the sets out. We can now get a better idea of how the number of sets released by Lego has changed over time. Legos weren't very popular initially, but as time went on, they caught on. Today, Legos are the sole product of the Lego Corporation. Not the case when they first got started.</p>
                <br>
                <p>Hover over each dot to see the name of the set it represents and its exact piece count.</p>
            </div>

            <div id="piecesLineChart-group" class="rightVisElement flex-container-column">
                
                <div id="div_lineChart-log-toggle">

                    <input type="checkbox" name="name_lineChart-log-toggle" id="lineChart-log-toggle">
                    <label for="name_lineChart-log-toggle">Log Scale</label>

                </div>

                <svg id="svg_piecesLineChart"></svg>
            </div>

        </div>

        <div id="themesLineChart" class="flex-container-row main-div">

            <div id="themesLineChart-group" class="leftVisElement flex-container-column">
                
                <div id="div_themesChartToggle-group">

                    <input type="checkbox" name="name_themeChartToggle-themes" id="themeChartToggle-themes">
                    <label for="name_lineChartToggle-themes">Number of Themes</label>

                    <input type="checkbox" name="name_themeChartToggle-colors" id="themeChartToggle-colors">
                    <label for="name_lineChartToggle-colors">Number of Unique Colors</label>

                    <input type="checkbox" name="name_themeChartToggle-pieces" id="themeChartToggle-pieces">
                    <label for="name_lineChartToggle-pieces">Avg. Pieces per Set</label>

                    <input type="checkbox" name="name_themeChartToggle-sets" id="themeChartToggle-sets">
                    <label for="name_lineChartToggle-sets">Number of Sets</label>

                </div>

                <svg id="svg_themesLineChart"></svg>
            </div>

            <div class="main-text rightVisElement">
                <h2>Themes, Colors, Pieces, and Sets</h2>
                <p>In this visualization, we explore some additional Lego metrics and how they relate to each other.</p> 
                <br>
                <p>Feel free to toggle the different charts on and off to compare thier trends.</p>
                <br>
                <p>An couple points of interest are the spike in the number of sets released and the number of unique colors across all sets between ~1995 and 2008. This large growth could have been driven by many things, but it is possible that the Lego Coproperation's licensing of Star Wars in 1999 or the introduction of the Lego Mindstorms kits that same year. From 2010 onward, Lego began to rapidly aquire licenses to manufacture sets for a broad range of popular movies and TV shows, leading to an explosion in the number of sets they have available.</p>
            </div>

        </div>


        <div id="theSquiggler" class="flex-container-row main-div">

            <div class="main-text leftVisElement">

                <h2>Lego Trend Relationships</h2>
                <p id="p_theSquiggler">This is a strange one for sure. But don't worry, it isn't as complicated as that Lego Technic kit your gradma gave you for your 6th birthday.</p>
                <br>
                <p>What we're looking at here is the relationships between the number of themes, number of unique colors, and average number of pieces per set over time. Each dot is a year and thier position shows thier value.</p>
                <br>
                <p>The big, and probably obvious, takeaways from this is that as the number of themes increases, so does the number of sets released and the number of unique colors. Although, this seems to be only a weak relationship. Looking at the nmber of unique colors vs number of themes plot, we can see that since 2016, this relationship has inverted. And that's not to mention how messy this relationship was before 1995!</p>
                <br>
                <p>Use the buttons to the right to scroll through the different relationships.</p>

            </div>

            <div id="squiggler-svg-group" class="flex-container-column rightVisElement">

                <div id="squiggler-select-group" class="flex-container-row">

                    <div class="squiggler-selector">
                        <button type="button" id="squiggler_prev">Previous</button>
                    </div>
                    <div class="squiggler-selector">
                        <button type="button" id="squiggler_next">Next</button> 
                    </div>

                </div>

                <svg id="svg_theSquiggler"></svg>
            </div>

        </div>


        <div id="heatmap" class="flex-container-column main-div">

            <div class="main-text heatmap-text">
                <h2>Colors!</h2>
                <p>
                    Finally, let's take a deeper look at the colors that Lego has offered since they started manufacturing Lego bricks back in 1949.
                </p>
                <br>
                <p>
                    The heatmap below shows the number of pieces in a set on the y-axis and the average number of unique colors among all sets in a given year is encoded in the shade of the block (brick?). Do note that sets with similar piece counts have been grouped to reduce the number of blocks in the heatmap.
                </p>
                <br>
                <p>
                    If you use the toggle below to switch visualizations, you will see a new heatmap with each unique color Lego has ever offered along the y-axis with the frequency with which that color appeared in Lego sets encoded by the color of the bar.
                </p>
                <br>
                <p>
                    From these two heatmaps we can see a few interesting trends.
                </p>
                <br>
                <p>
                    The first of these is that, not surprisingly, the number of unique colors offered in a single set generally increases as the number of pieces in the set increases. In addition to this, it is also notable that the overall number of unique colors offered accross sets of all sizes has increased over time.
                </p>
                <br>
                <p>
                    Finally, we can see that the number of unique colors offered by Lego has increased over time. This, of course, makes sence considering how many more sets accross a wide variety of themes they offer today versus the past. We can also see that certain colors have become much more common in sets. Among these are "Yellow," "Reddish Brown," "Red," "White," "Tan," and "Black" to name a few. It is also interesting to notice how some colors, such as "Red," "Light Gray," and "Green," among many others, have come in and out of use over the years, as evidenced by the breaks in the horizontal rows.
                </p>
            </div>

            <div id="div_heatmap-select-group">

                <label for="name_heatmap-select">Question:</label>
                <select name="name_heatmap-select" id="heatmap-select" style="width:250px">
                    <option value="num_set">Avg. Unique Colors vs Piece Count</option>
                    <option value="uniq_color">Color Frequency</option>
                </select>

            </div>

            <svg id="svg_heatmap"></svg>

        </div>

    </main>

    <footer class="main-div">
        <p>Webpage + Visualizations by Vista Marston & Chris Marston | Data coutesy the <a href="https://rebrickable.com/downloads/">Rebrickable Lego Database</a></p>
    </footer>
    
</body>

<script src="js/script.js"></script>
<script src="js/heatmap.js"></script>
<script src="js/theSquiggler.js"></script>
<script src="js/piecesLineChart.js"></script>
<script src="js/themesLineChart.js"></script>

</html>

<!-- TODO: Put all text into a spell checker. No typos! -->
<!-- TODO: Add some padding to the tooltips in the Heatmap so they don't bump right up against the edge. -->
<!-- TODO: The Squiggler's tooltips are getting cut off on the right side of the SVG. -->
<!-- TODO: The Heatmap's legend is not updating properly. Instead of switching, the old one stays and the new one is drawn ontop of it. -->